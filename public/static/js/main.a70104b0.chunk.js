(this["webpackJsonpcleanvel-front"]=this["webpackJsonpcleanvel-front"]||[]).push([[0],{118:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(39),c=t.n(l),u=(t(95),t(17)),s=t.n(u),i=(t(96),t(83)),o=t.n(i),m=t(2),d=t(5),p=t(1),E=t(6),k=t.n(E),v="https://cleanvel.herokuapp.com/api",f=function(e){return e.reduce((function(e,a){return Object(p.a)({},e,Object(d.a)({},a._id,a))}),{})},g=function(e){return Object.values(e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=/[$]/;a.test(e)&&(e=e.replace("$",""));var t=(e=parseFloat(e).toFixed(2)).toString().split(".");t[0].length>=4&&(t[0]=t[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),t[1]&&t[1].length>=5&&(t[1]=t[1].replace(/(\d{3})/g,"$1 "));var r=t.join(".");return r="$ ".concat(r)},h=function(e){return e.sort((function(a,t){var r=a.name.toUpperCase(),n=t.name.toUpperCase();return r>n?1:r<n?-1:e}))},N="cleanvel/products/LOADING",y="cleanvel/products/GET_PRODUCTS_ERROR",_="cleanvel/products/EDIT_PRODUCT_ERROR",O="cleanvel/products/ADD_PURCHASE_ERROR",x="cleanvel/products/ADD_TRANSFER_ERROR",S={products:{},status:"",error:void 0};var j=function(){return{type:N}},w=function(){return function(e){return e(j()),k.a.get("".concat(v,"/products")).then((function(a){var t=f(a.data.products);e({type:"cleanvel/products/GET_PRODUCTS_SUCCESS",payload:t})})).catch((function(a){e({type:y,error:a})}))}},C=function(e){return function(a){return a(j()),k.a.get("".concat(v,"/products/").concat(e)).then((function(e){a({type:"cleanvel/products/SEARCH_PRODUCT_SUCCESS",payload:e.data.product})})).catch((function(e){a({type:"cleanvel/products/SEARCH_PRODUCT_ERROR",error:e})}))}},R=function(e){return function(a){return a(j()),k.a.patch("".concat(v,"/products/").concat(e.id),e.data).then((function(e){a({type:"cleanvel/products/EDIT_PRODUCT_SUCCESS",payload:e.data.product})})).catch((function(e){a({type:_,error:e})}))}},A=function(e){return function(a){return a(j()),k.a.patch("".concat(v,"/products/purchase/").concat(e.id),e.data).then((function(e){a({type:"cleanvel/products/ADD_PURCHASE_SUCCESS",payload:e.data.product})})).catch((function(e){a({type:O,error:e})}))}},T=function(e){return function(a){return a(j()),k.a.patch("".concat(v,"/products/transfer/").concat(e.id),e.data).then((function(e){a({type:"cleanvel/products/ADD_TRANSFER_SUCCESS",payload:e.data.product})})).catch((function(e){a({type:x,error:e})}))}},U="cleanvel/events/GET_EVENTS_ERROR",D={events:{},status:"",error:void 0};var L=function(){return function(e){return e({type:"cleanvel/stores/LOADING"}),k.a.get("".concat(v,"/events")).then((function(a){var t=f(a.data.events);e({type:"cleanvel/events/GET_EVENTS_SUCCESS",payload:t})})).catch((function(a){e({type:U,error:a})}))}},G=t(3),V=t(12);k.a.defaults.withCredentials=!0;var q="cleanvel/user/LOGIN_SUCCESS",P="cleanvel/user/LOGIN_ERROR",F="cleanvel/user/LOGOUT_SUCCESS",I={data:JSON.parse(localStorage.getItem("user")),status:"",error:void 0};var z=function(e){return function(a){return a({type:"cleanvel/user/LOADING"}),k.a.post("".concat(v,"/login"),e).then((function(e){var t=e.data.user;localStorage.setItem("user",JSON.stringify(t)),a({type:q,payload:t})})).catch((function(e){return a((t=e.response.data.msg,{type:P,error:t}));var t}))}},J=function(){return function(e){return k.a.post("".concat(v,"/logout")).then((function(){localStorage.removeItem("user"),e({type:F})}))}},M=t(4);function H(){var e=Object(G.a)(["\nbackground-color: #FEFFFF;\nborder-radius: 5%;\npadding: 5px 10px;\n"]);return H=function(){return e},e}function B(){var e=Object(G.a)(["\nbackground-color: #1f3e49e3;\n"]);return B=function(){return e},e}function Y(){var e=Object(G.a)(["\ncolor:red;\nfont-size: 15px;\n"]);return Y=function(){return e},e}var $=M.a.div(Y()),Q=M.a.div(B()),W=M.a.div(H()),X=function(){var e=Object(m.b)(),a=Object(V.a)({mode:"onBlur"}),t=a.register,r=a.handleSubmit,l=a.errors;return n.a.createElement("div",{className:"authform uk-width-1-1 uk-flex uk-flex-middle uk-flex-center","uk-height-viewport":"true"},n.a.createElement("div",{className:"uk-child-width-1-2@s uk-margin-xlarge-right uk-margin-large-left","uk-grid":"true"},n.a.createElement("div",{className:"uk-card-media-left uk-cover-container"},n.a.createElement("img",{src:"/images/cleanvel-login.jpeg",alt:"","uk-cover":"true"}),n.a.createElement("canvas",{width:"600",height:"450"})),n.a.createElement(Q,null,n.a.createElement("div",{className:"uk-card-body uk-text-center"},n.a.createElement("form",{onSubmit:r((function(a){e(z(a))}))},n.a.createElement(W,null,n.a.createElement("img",{src:"/images/cleanvel-logo.png",width:300,alt:""})),n.a.createElement("div",{className:"uk-margin"},n.a.createElement("div",{className:"uk-inline"},n.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),n.a.createElement("input",{className:"uk-input",name:"username",type:"text",ref:t({required:!0})})),l.username&&n.a.createElement($,null,"El usuario es requerido")),n.a.createElement("div",{className:"uk-margin"},n.a.createElement("div",{className:"uk-inline"},n.a.createElement("span",{className:"uk-form-icon uk-form-icon-flip","uk-icon":"icon: lock"}),n.a.createElement("input",{className:"uk-input",name:"password",type:"password",ref:t({required:!0})})),l.password&&n.a.createElement($,null,"La contrase\xf1a es requerida")),n.a.createElement("button",{className:"app-button uk-width-1-3"},"Entrar"))))))},K=t(7),Z=t(24),ee=t.n(Z),ae=(t(67),t(40)),te=t.n(ae);function re(){var e=Object(G.a)(["\nfont-weight: 500;\ncolor: white;\nfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n"]);return re=function(){return e},e}ee.a.extend(te.a);var ne=M.a.h3(re()),le=function(){var e=Object(m.c)((function(e){return e.user.data}));return n.a.createElement("div",null,n.a.createElement(ne,{className:"uk-text-center"},e.name," ",e.last_name),n.a.createElement("img",{className:"uk-border-circle uk-align-center",width:"100",height:"90",src:e.profile_picture?e.profile_picture:"/images/cleanvel-logo-letter.png",alt:e.name}),n.a.createElement("div",null,n.a.createElement("span",{className:"uk-margin-large-right"},"Usuario:"),n.a.createElement("span",null,e.username)),n.a.createElement("hr",null),n.a.createElement("div",null,n.a.createElement("span",{className:"uk-margin-medium-right"},"Activo desde:"),n.a.createElement("span",null,ee()(e.createdAt).locale("es").format("MMMM YYYY"))))},ce=(t(118),function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.user.data})),t="Administrador"===a.role;return n.a.createElement("div",{className:"uk-flex uk-padding-remove","uk-sticky":"true"},n.a.createElement("nav",{className:"uk-nav navbar-container","uk-navbar":"true","uk-height-viewport":"true"},n.a.createElement("ul",{className:"nav-list uk-margin-small-left uk-margin-right"},n.a.createElement("li",{className:"letter-logo"},n.a.createElement(K.b,{to:"/"},n.a.createElement("img",{src:"/images/cleanvel-letter.png",width:70,alt:"logo-letter","uk-img":"true"}))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/"},n.a.createElement("span",{className:"uk-margin-small-right nav-text text2","uk-icon":"icon: grid; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Tablero"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/inventario"},n.a.createElement("span",{className:"uk-margin-small-right nav-text","uk-icon":"icon: list; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Inventario"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/productos"},n.a.createElement("span",{className:"uk-margin-small-right nav-text","uk-icon":"icon: database; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Productos"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/ventas"},n.a.createElement("span",{className:"uk-margin-small-right nav-text","uk-icon":"icon: tag; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Ventas"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/tiendas"},n.a.createElement("span",{className:"uk-margin-small-right nav-text","uk-icon":"icon: location; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Tiendas"))),t&&n.a.createElement("li",null,n.a.createElement(K.b,{className:"uk-text-capitalize",to:"/usuarios"},n.a.createElement("span",{className:"uk-margin-small-right nav-text","uk-icon":"icon: users; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Usuarios"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"uk-inline"},n.a.createElement("button",{className:"nav-button",type:"button"},n.a.createElement("span",{className:"nav-text uk-margin-small-right","uk-icon":"icon: user; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},a.name)),n.a.createElement("div",{className:"profile-card","uk-dropdown":"mode: click","uk-drop":"pos: top-right"},n.a.createElement(le,null))),n.a.createElement("li",null,n.a.createElement("a",{href:"/",onClick:function(){e(J())}},n.a.createElement("span",{className:"nav-text uk-margin-small-right","uk-icon":"icon: sign-out; ratio: 1.1"}),n.a.createElement("span",{className:"nav-text"},"Salir"))))))}),ue=t(11),se=t(27),ie=function(){var e=Object(m.c)((function(e){return e.products.products})),a=g(e).sort((function(e,a){return a.totals.inventory_value-e.totals.inventory_value})),t=a.slice(0,10).map((function(e){return e.name})),r=a.slice(0,10).map((function(e){return e.totals.inventory_value})),l=r.map((function(e,a){return a%2?"#3AAFA9":"#25424dd0"})),c={labels:t,datasets:[{label:"Valor en inventario",data:r,backgroundColor:l}]};return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement(se.b,{data:c}))},oe=function(){var e=Object(m.c)((function(e){return e.products.products})),a=g(e).sort((function(e,a){return a.totals.inventory_value-e.totals.inventory_value})),t={labels:["Qu\xedmicos","Desechables","Jarcier\xeda","Papel"],datasets:[{label:"Valor por Categor\xeda",data:[a.reduce((function(e,a){return"Qu\xedmico"===a.category?e+a.totals.inventory_value:e}),0),a.reduce((function(e,a){return"Desechables"===a.category?e+a.totals.inventory_value:e}),0),a.reduce((function(e,a){return"Jarcier\xeda"===a.category?e+a.totals.inventory_value:e}),0),a.reduce((function(e,a){return"Papel"===a.category?e+a.totals.inventory_value:e}),0)],backgroundColor:["#25424dd0","#2B7A78","#DEF2F1","#3AAFA9"]}]};return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement(se.c,{data:t}))};function me(){var e=Object(G.a)(["\ntext-align: center;\npadding-top: 10px;\nborder: 1px solid gray;\ncolor: #FEFFFF;\nbackground-color: #25424dd0;\nfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\nfont-size: 20px;\n"]);return me=function(){return e},e}function de(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\nfont-weight: 600;\nfont-size: 30px;\n"]);return de=function(){return e},e}var pe=M.a.p(de()),Ee=M.a.div(me()),ke=function(){var e=Object(m.c)((function(e){return e.products.products}));return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-margin-large-left uk-padding-remove-bottom uk-flex uk-flex-around"},n.a.createElement(pe,{className:"uk-margin-top"},"Cleanvel Puebla"),n.a.createElement("img",{src:"images/cleanvel-logo.png",width:290,alt:""})),n.a.createElement("hr",{className:"uk-margin-remove-top divider uk-margin-bottom"}),n.a.createElement("div",{className:"uk-child-width-expand@s uk-margin-small-left uk-margin-medium-right uk-margin-medium-top","uk-grid":"true"},n.a.createElement("div",null,n.a.createElement(ie,null)),n.a.createElement("div",null,n.a.createElement(oe,null))),n.a.createElement("div",{className:"uk-flex uk-margin-top uk-flex-center"},n.a.createElement(Ee,{className:"uk-margin-xlarge-left uk-margin-medium-top uk-margin-bottom uk-width-1-4"},"Inventario - Valor Total:",n.a.createElement("p",null,b(g(e).reduce((function(e,a){return e+a.totals.inventory_value}),0))))))};function ve(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\nfont-weight: 600;\n"]);return ve=function(){return e},e}var fe=M.a.h3(ve()),ge=function(e){var a=e.title,t=e.img;return n.a.createElement(fe,{className:"uk-margin-top uk-text-capitalize"},n.a.createElement("span",null,n.a.createElement("img",{className:"uk-margin-small-right",src:t,alt:"",width:60})),a)},be=function(){var e=Object(m.c)((function(e){return e.products.products})),a=g(e).reduce((function(e,a){return e+a.inventory_value.warehouse}),0),t=g(e).reduce((function(e,a){return e+a.inventory_value.libertad}),0),r=g(e).reduce((function(e,a){return e+a.inventory_value.ciudad_judicial}),0),l={labels:["Almac\xe9n","Libertad","Ciudad Judicial"],datasets:[{label:"Valor en inventario",data:[a.toFixed(2),t.toFixed(2),r.toFixed(2)],backgroundColor:["#25424dd0","#2B7A78","#3AAFA9"]}]};return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement(se.a,{data:l}))},he=function(){var e=Object(m.c)((function(e){return e.products.products})),a=g(e).filter((function(e){return e.totals.total_quantity<e.minumum}));return n.a.createElement("div",null,n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head"},"Nombre"),n.a.createElement("td",{className:"table-head uk-text-center"},"Margen m\xednimo"),n.a.createElement("td",{className:"table-head uk-text-center"},"Existencias"))),n.a.createElement("tbody",null,a.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell uk-text-center"},e.minumum),n.a.createElement("td",{className:"table-cell uk-text-center"},e.totals.total_quantity))})))))};function Ne(){var e=Object(G.a)(["\nborder: 1px solid gray;\ncolor: #FEFFFF;\nbackground-color: #25424dd0;\nfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\nfont-size: 17px;\n"]);return Ne=function(){return e},e}var ye=M.a.div(Ne()),_e=function(){var e=Object(m.c)((function(e){return e.products.products}));return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Inventario Cleanvel",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1595050577/cleanvel/App%20pictures/inventory_tivarg.png"}),n.a.createElement("div",{className:"uk-inline uk-margin-top uk-margin-large-right"},n.a.createElement("button",{className:"app-button",type:"button"},n.a.createElement("span",{className:"uk-margin-small-right","uk-icon":"icon: cog"}),"Herramientas"),n.a.createElement("div",{className:"profile-card","uk-dropdown":"pos: bottom-left"},n.a.createElement("ul",{className:"uk-nav uk-dropdown-nav"},n.a.createElement("li",null,n.a.createElement(K.b,{to:"/inventario/detalle"},n.a.createElement("span",{className:"nav-text"},"Inventario"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/inventario/compra"},n.a.createElement("span",{className:"nav-text"},"Agregar a stock"))),n.a.createElement("li",null,n.a.createElement(K.b,{to:"/inventario/traspaso"},n.a.createElement("span",{className:"nav-text"},"Traspaso"))))))),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-child-width-expand@s uk-text-center uk-margin-top uk-margin-left uk-margin-right","uk-grid":"true"},n.a.createElement("div",null,n.a.createElement(ye,{className:"uk-card uk-card-small uk-card-default uk-card-body test-font"},"Total:",n.a.createElement("p",null,b(g(e).reduce((function(e,a){return e+a.totals.inventory_value}),0))))),n.a.createElement("div",null,n.a.createElement(ye,{className:"uk-card uk-card-small uk-card-default uk-card-body"},"Almac\xe9n:",n.a.createElement("p",null,b(g(e).reduce((function(e,a){return e+a.inventory_value.warehouse}),0))))),n.a.createElement("div",null,n.a.createElement(ye,{className:"uk-card uk-card-small uk-card-default uk-card-body"},"Libertad:",n.a.createElement("p",null,b(g(e).reduce((function(e,a){return e+a.inventory_value.libertad}),0))))),n.a.createElement("div",{className:""},n.a.createElement(ye,{className:"uk-card uk-card-small uk-card-body"},"Ciudad Judicial:",n.a.createElement("p",null,b(g(e).reduce((function(e,a){return e+a.inventory_value.ciudad_judicial}),0)))))),n.a.createElement("div",{className:"uk-child-width-expand@s uk-height-large uk-margin-medium-right uk-margin-large-top","uk-grid":"true"},n.a.createElement("div",null,n.a.createElement(be,null)),n.a.createElement("div",null,n.a.createElement(he,null))))},Oe=t(8);function xe(){var e=Object(G.a)(["\ncolor: red;\n"]);return xe=function(){return e},e}function Se(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\n"]);return Se=function(){return e},e}function je(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\nfont-weight: 600;\n"]);return je=function(){return e},e}var we=M.a.h3(je()),Ce=M.a.h6(Se()),Re=M.a.span(xe()),Ae=function(){var e=Object(r.useState)(),a=Object(Oe.a)(e,2),t=a[0],l=a[1],c=Object(m.c)((function(e){return e.products.products}));c=h(g(c)),c=t?c.filter((function(e){return e.name.toLowerCase().includes(t.toLocaleLowerCase())})):c;return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(we,{className:"uk-margin-top uk-text-capitalize"},n.a.createElement("span",null,n.a.createElement("img",{className:"uk-margin-small-right",src:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1594630398/cleanvel/App%20pictures/products-icon_bwgtqa.png",alt:"",width:60})),"Productos Cleanvel: Inventario"),n.a.createElement("div",{className:"uk-card uk-card-small uk-card-body uk-margin-small-top"},n.a.createElement(Ce,{className:"uk-card-title"},"En existencia: ",c.reduce((function(e,a){return e+a.totals.total_quantity}),0)))),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-text-right uk-margin-large-right uk-margin-top uk-flex uk-flex-around uk-flex-middle"},n.a.createElement("div",{className:"uk-inline uk-margin-top uk-margin-large-left uk-width-1-2"},n.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: search"}),n.a.createElement("input",{className:"uk-input",type:"text",placeholder:"Buscar producto...",onChange:function(e){var a=e.target.value;l(a)}})),n.a.createElement("div",null,n.a.createElement(K.b,{to:"/inventario",className:"nav-user-icon"},n.a.createElement("span",{className:"nav-user-icon","uk-icon":"icon: chevron-left"}),"Regresar"))),n.a.createElement("div",{className:"uk-overflow-auto uk-height-large uk-margin-large-right uk-margin-large-left uk-margin-small-top"},n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head"},"Nombre"),n.a.createElement("td",{className:"table-head"},"Categor\xeda"),n.a.createElement("td",{className:"table-head uk-text-center"},"Almac\xe9n"),n.a.createElement("td",{className:"table-head uk-text-center"},"Libertad"),n.a.createElement("td",{className:"table-head uk-text-center"},"Ciudad Judicial"),n.a.createElement("td",{className:"table-head uk-text-center"},"Cantidad Total"),n.a.createElement("td",{className:"table-head uk-text-center"},"Valor en Inventario"))),n.a.createElement("tbody",null,c.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell"},e.category),n.a.createElement("td",{className:"table-cell"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-right uk-margin-left"},n.a.createElement("span",{className:"uk-text-left"},e.quantity.warehouse),n.a.createElement(Re,{className:"uk-text-right"},b(e.inventory_value.warehouse)))),n.a.createElement("td",{className:"table-cell"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-right uk-margin-left"},n.a.createElement("span",{className:"uk-text-left"},e.quantity.ciudad_judicial),n.a.createElement(Re,{className:"uk-text-right"},b(e.inventory_value.ciudad_judicial)))),n.a.createElement("td",{className:"table-cell"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-right uk-margin-left"},n.a.createElement("span",{className:"uk-text-left"},e.quantity.libertad),n.a.createElement(Re,{className:"uk-text-right"},b(e.inventory_value.libertad)))),n.a.createElement("td",{className:"table-cell uk-text-center"},e.totals.total_quantity),n.a.createElement("td",{className:"table-cell uk-text-center"},b(e.totals.inventory_value)))}))))))};function Te(){var e=Object(G.a)(["\nborder: 1px solid #DB9305;\n\n:focus {\n    outline-color: green;\n  }\n"]);return Te=function(){return e},e}var Ue=M.a.input(Te()),De=function(){var e=Object(m.b)(),a=Object(r.useState)(),t=Object(Oe.a)(a,2),l=t[0],c=t[1],u=Object(m.c)((function(e){return e.products.products}));u=h(g(u)),u=l?u.filter((function(e){return e.name.toLowerCase().includes(l.toLocaleLowerCase())})):u;var s=Object(V.a)(),i=s.register,o=s.handleSubmit,d=s.watch;return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Inventario CleanVel: Registrar compra",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1595050577/cleanvel/App%20pictures/inventory_tivarg.png"}),n.a.createElement("div",{className:"uk-margin-medium-top uk-margin-right"},n.a.createElement(K.b,{to:"/inventario",className:"nav-user-icon"},n.a.createElement("span",{className:"nav-user-icon","uk-icon":"icon: chevron-left"}),"Regresar"))),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-inline uk-margin-large-left uk-width-1-2"},n.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: search"}),n.a.createElement("input",{className:"uk-input",type:"text",placeholder:"Buscar producto...",onChange:function(e){var a=e.target.value;c(a)}})),n.a.createElement("div",{className:"uk-flex"},n.a.createElement("div",{className:"uk-overflow-auto uk-height-large uk-margin-large-right uk-margin-large-left uk-margin-small-top uk-width-3-4"},n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head"},"Nombre"),n.a.createElement("td",{className:"table-head uk-text-center"},"Margen m\xednimo"),n.a.createElement("td",{className:"table-head uk-text-center"},"Existencias"),n.a.createElement("td",{className:"table-head uk-text-center"},"Compras"),n.a.createElement("td",{className:"table-head uk-text-center"},"Precio de compra"),n.a.createElement("td",{className:"table-head uk-text-center"},"Subtotal"))),n.a.createElement("tbody",null,u.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell uk-text-center"},e.minumum),n.a.createElement("td",{className:"table-cell uk-text-center"},e.totals.total_quantity),n.a.createElement("td",{className:"uk-flex"},n.a.createElement("div",null,n.a.createElement("input",{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",type:"hidden",name:"".concat(a,".id"),ref:i,value:e._id})),n.a.createElement("div",null,n.a.createElement(Ue,{className:"table-cell uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",defaultValue:0,type:"number",name:"".concat(a,".purchase"),ref:i}))),n.a.createElement("td",null,n.a.createElement(Ue,{className:"table-cell uk-text-right uk-width-1-2 uk-align-center",defaultValue:e.purchase_price.toFixed(2),type:"number",name:"".concat(a,".price"),ref:i})),n.a.createElement("td",{className:"table-cell uk-text-center"},"$",(d("".concat(a,".purchase"),0)*d("".concat(a,".price"),e.purchase_price)).toFixed(2)))}))))),n.a.createElement("div",{className:"uk-margin-top uk-text-center"},n.a.createElement("button",{className:"app-button",onClick:o((function(a){g(a).filter((function(e){return e.purchase>0})).map((function(a){var t={id:a.id,data:{purchase:parseFloat(a.purchase),price:parseFloat(a.price)}};return e(A(t)).then((function(){document.location.reload(!0)})),t}))}))}," + Agregar compra"))))},Le=function(e){var a=e.register,t=e.errors,r=e.watch,l=e.handleSubmit,c=r("origin");return n.a.createElement("form",{className:"uk-grid-small","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-1-3"},n.a.createElement("select",{className:"uk-select",ref:a({required:!0}),name:"origin"},n.a.createElement("option",{value:""},"Tienda de origen..."),n.a.createElement("option",{value:"warehouse"},"Almac\xe9n"),n.a.createElement("option",{value:"ciudad_judicial"},"Ciudad Judicial")),t.origin&&n.a.createElement("p",{className:"error uk-margin-remove-top"},"Seleccionar tienda de origen")),"warehouse"===c&&n.a.createElement("div",{className:"uk-width-1-3"},n.a.createElement("select",{className:"uk-select",ref:a({required:!0}),name:"destination"},n.a.createElement("option",{value:""},"Tienda de destino..."),n.a.createElement("option",{value:"libertad"},"Libertad"),n.a.createElement("option",{value:"ciudad_judicial"},"Ciudad Judicial")),t.destination&&n.a.createElement("p",{className:"error uk-margin-remove-top"},"Seleccionar tienda de destino")),"ciudad_judicial"===c&&n.a.createElement("div",{className:"uk-width-1-3"},n.a.createElement("select",{className:"uk-select",ref:a({required:!0}),name:"destination"},n.a.createElement("option",{value:""},"Tienda de destino..."),n.a.createElement("option",{value:"libertad"},"Libertad")),t.destination&&n.a.createElement("p",{className:"error uk-margin-remove-top"},"Seleccionar tienda de destino")),n.a.createElement("div",{className:"uk-width-1-3"},n.a.createElement("button",{className:"app-button",onClick:l},"+ Generar")))};function Ge(){var e=Object(G.a)(["\nborder: 1px solid #DB9305;\n\n:focus {\n    outline-color: green;\n  }\n"]);return Ge=function(){return e},e}function Ve(){var e=Object(G.a)(["\nborder-right: 1px solid white;\n"]);return Ve=function(){return e},e}var qe=M.a.td(Ve()),Pe=M.a.input(Ge()),Fe=function(){var e=Object(m.b)(),a=Object(r.useState)(),t=Object(Oe.a)(a,2),l=t[0],c=t[1],u=Object(r.useState)(),s=Object(Oe.a)(u,2),i=s[0],o=s[1],d=Object(m.c)((function(e){return e.products.products}));d=h(g(d));var p=Object(V.a)(),E=p.register,k=p.handleSubmit,v=p.errors,f=p.watch,b=Object(V.a)(),N=b.register,y=b.handleSubmit,_=b.watch;return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Inventario CleanVel: Registrar traspaso",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1595050577/cleanvel/App%20pictures/inventory_tivarg.png"}),n.a.createElement("div",{className:"uk-margin-medium-top uk-margin-right"},n.a.createElement(K.b,{to:"/inventario",className:"nav-user-icon"},n.a.createElement("span",{className:"nav-user-icon","uk-icon":"icon: chevron-left"}),"Regresar"))),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-margin-large-left uk-margin-right uk-flex","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-3-4"},n.a.createElement(Le,{register:E,errors:v,watch:f,handleSubmit:k((function(e){var a=d.filter((function(a){return"warehouse"===e.origin&&a.availability===e.destination||"all"===a.availability}));c(a),o(e)}))}))),l&&i&&n.a.createElement("div",{className:"uk-flex"},n.a.createElement("div",{className:"uk-overflow-auto uk-height-large uk-margin-large-right uk-margin-large-left uk-margin-small-top uk-width-3-4"},n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement(qe,{className:"table-head uk-text-center"},"Producto"),n.a.createElement("td",{className:"table-head"}),n.a.createElement(qe,{className:"table-head"},"warehouse"===i.origin?"Almac\xe9n":"Ciudad Judicial"),n.a.createElement(qe,{className:"table-head uk-text-center"},n.a.createElement("img",{src:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_20,w_50/v1595237318/cleanvel/App%20pictures/arrow_2_xhmipr.png",alt:"arrow"})),n.a.createElement("td",{className:"table-head"}),n.a.createElement("td",{className:"table-head"},"ciudad_judicial"===i.destination?"Ciudad Judicial":i.destination)),n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head-sub"},"Nombre"),n.a.createElement("td",{className:"table-head-sub"},"Existencias"),n.a.createElement("td",{className:"table-head-sub"},"Margen m\xednimo"),n.a.createElement("td",{className:"table-head-sub"},"Enviar"),n.a.createElement("td",{className:"table-head-sub"},"Existencias"),n.a.createElement("td",{className:"table-head-sub"},"Margen m\xednimo"))),n.a.createElement("tbody",null,l.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell uk-text-center"},"warehouse"===i.origin?e.quantity.warehouse:e.quantity.ciudad_judicial),n.a.createElement("td",{className:"table-cell uk-text-center"},e.minumum),n.a.createElement("td",{className:"uk-flex"},n.a.createElement("div",null,n.a.createElement("input",{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",type:"hidden",name:"".concat(a,".id"),ref:N,value:e._id})),n.a.createElement("div",null,n.a.createElement(Pe,{className:"table-cell uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",defaultValue:0,type:"number",name:"".concat(a,".transfer.").concat(i.destination),ref:N})),n.a.createElement("div",null,n.a.createElement("input",{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",type:"hidden",name:"".concat(a,".transfer.").concat(i.origin),ref:N,value:-1*_("".concat(a,".transfer.").concat(i.destination),0)}))),n.a.createElement("td",{className:"table-cell uk-text-center"},"ciudad_judicial"===i.destination?e.quantity.ciudad_judicial:e.quantity.libertad),n.a.createElement("td",{className:"table-cell uk-text-center"},e.minumum))}))))),n.a.createElement("div",{className:"uk-margin-top uk-text-center"},n.a.createElement("button",{className:"app-button",onClick:y((function(a){var t=i.destination,r=g(a).filter((function(e){return"libertad"===t?e.transfer.libertad>0:"ciudad_judicial"===t?e.transfer.ciudad_judicial>0:r}));r.map((function(a){var t={id:a.id,data:a};return e(T(t)).then((function(){document.location.reload(!0)})),t}))}))}," + Guardar traspaso"))))};function Ie(){var e=Object(G.a)(["\nborder: 1px solid gray;\nborder-radius: 50%;\nbackground-color: #25424dd0;\n"]);return Ie=function(){return e},e}function ze(){var e=Object(G.a)(["\nfont-family: monospace;\ncolor: #17252A;\n"]);return ze=function(){return e},e}var Je=M.a.h4(ze()),Me=M.a.div(Ie()),He=function(e){var a=e.image,t=e.title,r=e.to;return n.a.createElement(K.b,{to:r},n.a.createElement(Me,{className:"uk-inline uk-dark"},n.a.createElement("img",{className:"product-card-img",src:a,alt:""})),n.a.createElement(Je,{className:"uk-margin-remove-top test-text"},t))},Be=t(9),Ye=t.n(Be),$e=t(14);function Qe(){var e=Object(G.a)(["\ncolor:red;\nfont-size: 15px;\n"]);return Qe=function(){return e},e}var We=M.a.div(Qe()),Xe=function(e){var a=e.register,t=e.errors,l=e.data,c=e.reset;return Object(r.useEffect)((function(){function e(){return(e=Object($e.a)(Ye.a.mark((function e(){var a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./api/formValues.json");case 2:a=e.sent,c(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),n.a.createElement("form",{className:"uk-grid-small","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Nombre:"),n.a.createElement("input",{defaultValue:l?l.name:"",className:"uk-input",type:"text",name:"name",ref:a({required:!0})}),t.name&&n.a.createElement(We,null,"Agregar nombre del producto")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Categor\xeda:"),n.a.createElement("select",{defaultValue:l?l.category:"",className:"uk-select",name:"category",ref:a({required:!0})},n.a.createElement("option",{value:""},"Selecciona la categor\xeda..."),n.a.createElement("option",{selected:l?"Desechables"===l.category?"Selected":"":null},"Desechables"),n.a.createElement("option",{selected:l?"General"===l.category?"Selected":"":null},"General"),n.a.createElement("option",{selected:l?"Jarcier\xeda"===l.category?"Selected":"":null},"Jarcier\xeda"),n.a.createElement("option",{selected:l?"Otros"===l.category?"Selected":"":null},"Otros"),n.a.createElement("option",{selected:l?"Papel"===l.category?"Selected":"":null},"Papel"),n.a.createElement("option",{selected:l?"Qu\xedmico"===l.category?"Selected":"":null},"Qu\xedmico"),n.a.createElement("option",{selected:l?"Varios"===l.category?"Selected":"":null},"Varios")),t.category&&n.a.createElement(We,null,"Seleccionar la categor\xeda")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Disponibilidad:"),n.a.createElement("select",{defaultValue:l?l.availability:"",className:"uk-select",name:"availability",ref:a({required:!0})},n.a.createElement("option",{value:""},"Selecciona la disponibilidad..."),n.a.createElement("option",{value:"ciudad_judicial",selected:l?"ciudad_judicial"===l.availability?"Selected":"":null},"Ciudad Judicial"),n.a.createElement("option",{value:"libertad",selected:l?"libertad"===l.availability?"Selected":"":null},"Libertad"),n.a.createElement("option",{value:"all",selected:l?"all"===l.availability?"Selected":"":null},"Todas las tiendas")),t.availability&&n.a.createElement(We,null,"Seleccionar la disponibilidad")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Margen m\xednimo:"),n.a.createElement("input",{defaultValue:l?l.minumum:"",className:"uk-input",type:"number",name:"minumum",ref:a({required:!0})}),t.minumum&&n.a.createElement(We,null,"Especificar el margen m\xednimo")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Precio de compra:"),n.a.createElement("input",{defaultValue:l?l.purchase_price:"",className:"uk-input",type:"number",name:"purchase_price",ref:a({required:!0})}),t.purchase_price&&n.a.createElement(We,null,"Especificar el precio de compra")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Precio de venta:"),n.a.createElement("input",{defaultValue:l?l.sale_price:"",className:"uk-input",type:"number",name:"sale_price",ref:a({required:!0})}),t.sale_price&&n.a.createElement(We,null,"Especificar el precio de venta")),l?null:n.a.createElement("div",{className:"uk-width-1-3@s"},n.a.createElement("label",{className:"uk-form-label"},"Cantidad: Almac\xe9n"),n.a.createElement("input",{className:"uk-input",type:"number",name:"quantity.warehouse",ref:a,defaultValue:0})),l?null:n.a.createElement("div",{className:"uk-width-1-3@s"},n.a.createElement("label",{className:"uk-form-label"},"Cantidad: Libertad"),n.a.createElement("input",{className:"uk-input",type:"number",name:"quantity.libertad",ref:a,defaultValue:0})),l?null:n.a.createElement("div",{className:"uk-width-1-3@s"},n.a.createElement("label",{className:"uk-form-label"},"Cantidad: Ciudad Judicial"),n.a.createElement("input",{className:"uk-input",type:"number",name:"quantity.ciudad_judicial",ref:a,defaultValue:0})))},Ke=function(){var e=Object(m.b)(),a=Object(V.a)(),t=a.register,r=a.handleSubmit,l=a.errors,c=a.reset;return n.a.createElement("div",{className:"uk-margin-top uk-margin-medium-right"},n.a.createElement("button",{"uk-toggle":"target: #new-product",type:"button",className:"uk-align-center uk-margin-remove-top app-button"},n.a.createElement("span",{"uk-icon":"icon: plus",className:"uk-margin-small-right"}),"Agregar nuevo producto"),n.a.createElement("div",{id:"new-product","uk-modal":"true"},n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},"Nuevo producto")),n.a.createElement("div",{className:"uk-modal-body"},n.a.createElement(Xe,{register:t,errors:l,reset:c})),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button",onClick:r((function(a){a=Object(p.a)({},a,{profit:a.sale_price-a.purchase_price}),e(function(e){return function(a){return a(j()),k.a.post("".concat(v,"/products"),e).then((function(e){a({type:"cleanvel/products/CREATE_PRODUCT_SUCCESS",payload:e.data.msg})})).catch((function(e){a({type:"cleanvel/products/CREATE_PRODUCT_ERROR",error:e})}))}}(a)).then((function(){s.a.modal("#new-product").hide(),document.location.reload(!0)}))}))},"Guardar")))))},Ze=function(){var e="Administrador"===Object(m.c)((function(e){return e.user.data})).role;return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Productos Cleanvel",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1594630398/cleanvel/App%20pictures/products-icon_bwgtqa.png"}),e&&n.a.createElement(Ke,null)),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-child-width-1-3@s uk-margin-medium-top uk-margin-left uk-margin-right uk-text-center","uk-grid":"true"},n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1594936545/cleanvel/todos_bos3r4.png",title:"Todos",to:"/productos/todos"})),n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1594937045/cleanvel/chemical_ytj8wh.png",title:"Qu\xedmicos",to:"/productos/qu\xedmico"})),n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1594937367/cleanvel/sponge_jrzchy.png",title:"Jarcier\xeda",to:"/productos/jarcier\xeda"})),n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1594937563/cleanvel/App%20pictures/paper-products_lwpa4e.png",title:"Papel",to:"/productos/papel"})),n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1595003290/cleanvel/App%20pictures/glass_m89ngr.png",title:"Desechables",to:"/productos/desechables"})),n.a.createElement("div",null,n.a.createElement(He,{image:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_180,w_180/v1595005362/cleanvel/App%20pictures/spray_fdoxcx.png",title:"General",to:"/productos/general"}))))},ea=function(e){var a=e.id,t=Object(m.b)(),r=Object(m.c)((function(e){return e.products.editableProduct})),l=Object(V.a)(),c=l.register,u=l.handleSubmit,i=l.errors,o=l.reset;return n.a.createElement("div",null,n.a.createElement("button",{className:"uk-icon-button uk-margin-small-right","uk-icon":"file-edit",type:"button","uk-toggle":"target: #edit-product-".concat(a),onClick:function(){t(C(a))}}),n.a.createElement("div",{id:"edit-product-".concat(a),"uk-modal":"true"},r&&n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},r.name)),n.a.createElement("div",{className:"uk-modal-body"},n.a.createElement(Xe,{data:r,register:c,errors:i,reset:o})),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button",onClick:u((function(e){r.purchase_price!==e.purchase_price&&(e.purchase_price=(r.purchase_price+parseFloat(e.purchase_price))/2);var a=r._id,n=r.quantity,l={id:a,data:Object(p.a)({},e,{quantity:n})};t(R(l)).then((function(){s.a.modal("#edit-product-".concat(a)).hide()}))}))},"Guardar")))))};function aa(){var e=Object(G.a)(["\nfont-family: Verdana, Geneva, Tahoma, sans-serif;\nfont-size: 16px;\ncolor: rgb(80, 80, 80);\n"]);return aa=function(){return e},e}var ta=M.a.p(aa()),ra=function(e){var a=e.id,t=Object(m.b)(),r=Object(m.c)((function(e){return e.products.editableProduct}));return n.a.createElement("div",null,n.a.createElement("button",{className:"uk-icon-button",type:"button","uk-toggle":"target: #delete-product","uk-icon":"trash",onClick:function(){t(C(a))}}),n.a.createElement("div",{id:"delete-product","uk-modal":"true"},r&&n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},r.name)),n.a.createElement("div",{className:"uk-modal-body uk-flex"},n.a.createElement("div",{className:"uk-margin-right"},n.a.createElement("span",{className:"delete-icon","uk-icon":"icon: warning; ratio: 3"})),n.a.createElement("div",null,n.a.createElement(ta,null,"\xbfEstas seguro que deseas eliminar este producto de la base de datos?"))),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button uk-modal-close",onClick:function(e){e=r._id,t(function(e){return function(a){return a(j()),k.a.delete("".concat(v,"/products/").concat(e)).then((function(e){a({type:"cleanvel/products/DELETE_PRODUCT_SUCCESS",payload:e.data.product})})).catch((function(e){a({type:"cleanvel/products/DELETE_PRODUCT_ERROR",error:e})}))}}(e))}},"Eliminar producto")))))};function na(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\n"]);return na=function(){return e},e}function la(){var e=Object(G.a)(["\nfont-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\ncolor: #17252A;\nfont-weight: 600;\n"]);return la=function(){return e},e}var ca=M.a.h3(la()),ua=M.a.h6(na()),sa=function(){var e=Object(ue.f)().pathname.substring(11),a=Object(r.useState)(),t=Object(Oe.a)(a,2),l=t[0],c=t[1],u=Object(m.c)((function(e){return e.products.products})),s="Administrador"===Object(m.c)((function(e){return e.user.data})).role,i=[];i=h("todos"===e?g(u):g(u).filter((function(a){return a.category.toLowerCase()===e}))),i=l?i.filter((function(e){return e.name.toLowerCase().includes(l.toLocaleLowerCase())})):i;return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ca,{className:"uk-margin-top uk-text-capitalize"},n.a.createElement("span",null,n.a.createElement("img",{className:"uk-margin-small-right",src:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1594630398/cleanvel/App%20pictures/products-icon_bwgtqa.png",alt:"",width:60})),"Productos Cleanvel: ","qu\xedmico"===e?"Qu\xedmicos":e),n.a.createElement("div",{className:"uk-card uk-card-small uk-card-body uk-margin-small-top"},n.a.createElement(ua,{className:"uk-card-title"},"En existencia: ",i.reduce((function(e,a){return e+a.totals.total_quantity}),0)))),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-text-right uk-margin-large-right uk-margin-top uk-flex uk-flex-around uk-flex-middle"},n.a.createElement("div",{className:"uk-inline uk-margin-top uk-margin-large-left uk-width-1-2"},n.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: search"}),n.a.createElement("input",{className:"uk-input",type:"text",placeholder:"Buscar producto...",onChange:function(e){var a=e.target.value;c(a)}})),n.a.createElement(K.b,{to:"/productos",className:"nav-user-icon"},n.a.createElement("span",{className:"nav-user-icon","uk-icon":"icon: chevron-left"}),"Regresar")),n.a.createElement("div",{className:"uk-overflow-auto uk-height-large uk-margin-large-right uk-margin-large-left uk-margin-small-top"},n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head"},"Nombre"),n.a.createElement("td",{className:"table-head"},"Categor\xeda"),n.a.createElement("td",{className:"table-head uk-text-center"},"Disponibilidad"),n.a.createElement("td",{className:"table-head uk-text-center"},"Margen m\xednimo"),n.a.createElement("td",{className:"table-head uk-text-center"},"Precio de compra"),n.a.createElement("td",{className:"table-head uk-text-center"},"Precio de venta"),n.a.createElement("td",{className:"table-head uk-text-center"},"Margen de ganancia"),s&&n.a.createElement("td",{className:"table-head uk-text-center"},"Acciones"))),n.a.createElement("tbody",null,i.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell"},e.category),n.a.createElement("td",{className:"table-cell uk-text-capitalize uk-text-center"},"all"===e.availability?"Todas":"ciudad_judicial"===e.availability?"Ciudad Judicial":e.availability),n.a.createElement("td",{className:"table-cell uk-text-center"},e.minumum),n.a.createElement("td",{className:"table-cell uk-text-center"},e.purchase_price),n.a.createElement("td",{className:"table-cell uk-text-center"},e.sale_price),n.a.createElement("td",{className:"table-cell uk-text-center"},e.profit),s&&n.a.createElement("td",null,n.a.createElement("div",{className:"uk-flex"},n.a.createElement(ea,{id:e._id}),n.a.createElement(ra,{id:e._id}))))}))))))},ia=t(13),oa=function(e){var a=e.register,t=e.errors,r=e.handleSubmit;return n.a.createElement("form",{className:"uk-grid-small","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-1-2"},n.a.createElement("select",{className:"uk-select",ref:a({required:!0}),name:"store"},n.a.createElement("option",{value:""},"Selecciona una tienda..."),n.a.createElement("option",{value:"libertad"},"Libertad"),n.a.createElement("option",{value:"ciudad_judicial"},"Ciudad Judicial")),t.store&&n.a.createElement("p",{className:"error uk-margin-remove-top"},"Seleccionar tienda")),n.a.createElement("div",{className:"uk-width-1-2"},n.a.createElement("button",{className:"app-button",onClick:r},"+ Generar")))};t(211);function ma(){var e=Object(G.a)(["\nborder: 1px solid #DB9305;\n\n:focus {\n    outline-color: green;\n  }\n"]);return ma=function(){return e},e}var da=M.a.input(ma()),pa=function(e){var a=e.data,t=e.store,l=Object(m.b)(),c=Object(m.c)((function(e){return e.user.data})),u=Object(r.useState)(0),s=Object(Oe.a)(u,2),i=s[0],o=s[1],d=Object(V.a)(),p=d.register,E=d.handleSubmit,f=d.watch,h=d.getValues;Object(r.useEffect)((function(){var e=h(),a=g(e).reduce((function(e,a){return e+parseFloat(a.subtotal)}),0);o(a)}));var N=function(e){e.target.parentElement.parentElement.parentElement.remove()};return n.a.createElement("div",{className:"uk-card uk-width-1-1@m sales-card"},n.a.createElement("div",{className:"uk-card-header uk-text-center"},n.a.createElement("div",{className:"uk-grid-small uk-flex-middle","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-expand"},n.a.createElement("h3",{className:"uk-card-title uk-margin-remove-bottom sales-title"},"Compra Total")))),n.a.createElement("div",{className:"uk-card-body uk-padding-remove uk-height-medium"},n.a.createElement("div",{className:"uk-overflow-auto uk-height-medium"},n.a.createElement("table",{className:"uk-table uk-table-divider",id:"sales-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"sales-head"},"Producto"),n.a.createElement("td",{className:"sales-head uk-text-center"},"Precio"),n.a.createElement("td",{className:"sales-head uk-text-center"},"Cantidad"),n.a.createElement("td",{className:"sales-head uk-text-center"},"Subtotal"),n.a.createElement("td",{className:"sales-head uk-text-center"}))),n.a.createElement("tbody",null,a.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"sales-cell"},e.name),n.a.createElement("td",{className:"sales-cell uk-text-center"},e.sale_price),n.a.createElement("td",{className:"uk-flex"},n.a.createElement("div",null,n.a.createElement(da,{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",type:"hidden",name:"".concat(a,".id"),value:e._id,ref:p})),n.a.createElement("div",null,n.a.createElement(da,{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",defaultValue:0,type:"number",name:"".concat(a,".transfer.").concat(t),ref:p}))),n.a.createElement("td",null,n.a.createElement(da,{className:"uk-text-right uk-width-1-2 uk-margin-remove-bottom uk-align-center",type:"number",name:"".concat(a,".subtotal"),ref:p,value:f("".concat(a,".transfer.").concat(t),0)*e.sale_price,readOnly:!0})),n.a.createElement("td",{className:"uk-padding-remove"},n.a.createElement("button",{className:"nav-text uk-margin-small-top","uk-icon":"icon: trash; ratio: 1.2",onClick:N})))})))))),n.a.createElement("div",{className:"uk-card-footer uk-flex uk-flex-between uk-padding-remove-bottom"},n.a.createElement("div",null,n.a.createElement("button",{className:"sales-button",onClick:E((function(e){g(e).map((function(e){var a=e.id,t=e.transfer,r=t.libertad?t.libertad:t.ciudad_judicial;t=t.libertad?{libertad:-1*t.libertad}:{ciudad_judicial:-1*t.ciudad_judicial};var n={product:a,user:c._id,action:"sale",value:r},u={id:a,data:{transfer:t}};return l(T(u)),l(function(e){return function(a){return a({type:"cleanvel/stores/LOADING"}),k.a.post("".concat(v,"/events"),e).then((function(e){a({type:"cleanvel/events/CREATE_EVENT_SUCCESS",payload:e.data.msg})})).catch((function(e){a({type:"cleanvel/events/CREATE_EVENT_ERROR",error:e})}))}}(n)).then((function(){document.location.reload(!0)})),u}))}))},"Guardar")),n.a.createElement("div",null,n.a.createElement("h3",{className:"sales-title"},"Total: ",n.a.createElement("span",{className:"sales-total"},b(i))))))},Ea=function(){var e=Object(m.c)((function(e){return e.products.products}));e=h(g(e));var a=Object(r.useState)(),t=Object(Oe.a)(a,2),l=t[0],c=t[1],u=Object(r.useState)(),s=Object(Oe.a)(u,2),i=s[0],o=s[1],d=Object(r.useState)([]),p=Object(Oe.a)(d,2),E=p[0],k=p[1];l=i?l.filter((function(e){return e.name.toLowerCase().includes(i.toLocaleLowerCase())})):l;var v=Object(V.a)(),f=v.register,b=v.handleSubmit,N=v.errors,y=v.watch,_=y("store"),O=function(a){var t=a.target.id,r=e.filter((function(e){return e._id===t}))[0],n=r._id,l=r.name,c=r.quantity,u={_id:n,name:l,sale_price:r.sale_price,quantity:"libertad"===_?c.libertad:c.ciudad_judicial};k((function(e){return[].concat(Object(ia.a)(e),[u])}))};return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Ventas Cleanvel",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_300,w_424/v1595303386/cleanvel/App%20pictures/sales_xnsbwu.png"})),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-flex uk-flex-around uk-width-1-1 uk-margin-small-left"},n.a.createElement("div",{className:"uk-width-2-5"},n.a.createElement("div",{className:"uk-width-expand"},n.a.createElement(oa,{register:f,errors:N,watch:y,handleSubmit:b((function(){var a=e.filter((function(e){return e.availability===_||"all"===e.availability}));c(a)}))})),l&&n.a.createElement("div",{className:"uk-inline uk-margin-top uk-margin-left uk-width-1-2"},n.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: search"}),n.a.createElement("input",{className:"uk-input",type:"text",placeholder:"Buscar producto...",onChange:function(e){var a=e.target.value;o(a)}})),l&&n.a.createElement("div",{className:"uk-overflow-auto uk-height-large uk-margin-small-top uk-width-1-1"},n.a.createElement("table",{className:"uk-table uk-table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head"},"Nombre"),n.a.createElement("td",{className:"table-head"},"Existencias"),n.a.createElement("td",{className:"table-head"},"Seleccionar"))),n.a.createElement("tbody",null,l.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell"},e.name),n.a.createElement("td",{className:"table-cell uk-text-center"},"libertad"===_?e.quantity.libertad:e.quantity.ciudad_judicial),n.a.createElement("td",{className:"uk-text-center"},n.a.createElement("input",{className:"uk-icon-button",type:"button",id:e._id,value:"+",onClick:O})))})))))),n.a.createElement("div",{className:"uk-width-2-5"},n.a.createElement(pa,{data:E,store:_}))))},ka="cleanvel/stores/GET_STORES_ERROR",va="cleanvel/stores/EDIT_STORE_ERROR",fa={stores:{},status:"",error:void 0};var ga=function(){return function(e){return e({type:"cleanvel/stores/LOADING"}),k.a.get("".concat(v,"/stores")).then((function(a){var t=f(a.data.stores);e({type:"cleanvel/stores/GET_STORES_SUCCESS",payload:t})})).catch((function(a){e({type:ka,error:a})}))}},ba=function(e){return function(a){return a({type:"cleanvel/stores/LOADING"}),k.a.patch("".concat(v,"/stores/").concat(e.id),e.data).then((function(e){a({type:"cleanvel/stores/EDIT_STORE_SUCCESS",payload:e.data.store})})).catch((function(e){a({type:va,error:e})}))}};function ha(){var e=Object(G.a)(["\ncolor:red;\nfont-size: 15px;\n"]);return ha=function(){return e},e}var Na=M.a.div(ha()),ya=function(e){var a=e.register,t=e.errors,r=e.data;return n.a.createElement("form",{className:"uk-grid-small","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-1-1@s"},n.a.createElement("label",{className:"uk-form-label"},"Nombre:"),n.a.createElement("input",{defaultValue:r.name,className:"uk-input",type:"text",name:"name",ref:a({required:!0})}),t.name&&n.a.createElement(Na,null,"Agregar el nombre de la tienda")),n.a.createElement("div",{className:"uk-width-2-3@s"},n.a.createElement("label",{className:"uk-form-label"},"Calle:"),n.a.createElement("input",{defaultValue:r.address.street,className:"uk-input",type:"text",name:"address.street",ref:a({required:!0})}),t.address&&n.a.createElement(Na,null,"Agregar la calle")),n.a.createElement("div",{className:"uk-width-1-3@s"},n.a.createElement("label",{className:"uk-form-label"},"Ciudad:"),n.a.createElement("input",{defaultValue:r.address.city,className:"uk-input",type:"text",name:"address.city",ref:a({required:!0})}),t.address&&n.a.createElement(Na,null,"Agregar la ciudad")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Estado:"),n.a.createElement("input",{defaultValue:r.address.state,className:"uk-input",type:"text",name:"address.state",ref:a({required:!0})}),t.address&&n.a.createElement(Na,null,"Agregar el estado")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"C\xf3digo postal:"),n.a.createElement("input",{defaultValue:r.address.zip_code,className:"uk-input",type:"number",name:"address.zip_code",ref:a({required:!0})}),t.address&&n.a.createElement(Na,null,"Agregar el c\xf3digo postal")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Pa\xeds:"),n.a.createElement("input",{defaultValue:r.address.country,className:"uk-input",type:"text",name:"address.country",ref:a({required:!0})}),t.address&&n.a.createElement(Na,null,"Agregar el pa\xeds")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Tel\xe9fono:"),n.a.createElement("input",{defaultValue:r.phone_number,className:"uk-input",type:"number",name:"phone_number",ref:a({required:!0})}),t.phone_number&&n.a.createElement(Na,null,"Agregar el tel\xe9fono")))},_a=function(e){var a=e.id,t=Object(m.b)(),l=Object(m.c)((function(e){return e.stores.editableStore})),c=Object(V.a)(),u=c.register,i=c.handleSubmit,o=c.errors,d=c.reset;Object(r.useEffect)((function(){function e(){return(e=Object($e.a)(Ye.a.mark((function e(){var a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./api/formValues.json");case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d]);return n.a.createElement("div",null,n.a.createElement("button",{className:"uk-icon-button uk-margin-small-right","uk-icon":"pencil",type:"button","uk-toggle":"target: #edit-store-".concat(a),onClick:function(){t(function(e){return function(a){return a({type:"cleanvel/stores/LOADING"}),k.a.get("".concat(v,"/stores/").concat(e)).then((function(e){a({type:"cleanvel/stores/SEARCH_STORE_SUCCESS",payload:e.data.store})})).catch((function(e){a({type:"cleanvel/stores/SEARCH_STORE_ERROR",error:e})}))}}(a))}}),n.a.createElement("div",{id:"edit-store-".concat(a),"uk-modal":"true"},l&&n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},l.name)),n.a.createElement("div",{className:"uk-modal-body"},n.a.createElement(ya,{data:l,register:u,errors:o})),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button",onClick:i((function(e){var a=l._id;t(ba({id:a,data:e})).then((function(){s.a.modal("#edit-store-".concat(a)).hide()}))}))},"Guardar")))))};function Oa(){var e=Object(G.a)(["\nborder-top-left-radius: 5%;\nborder-top-right-radius: 5%;\n"]);return Oa=function(){return e},e}function xa(){var e=Object(G.a)(["\nbackground-color: #25424dd0;\ncolor: #FEFFFF;\nborder: 1px solid #90a09f;\nborder-radius: 5%;\n\nh3, h2, h5, h4, p {\ncolor: #FEFFFF;  \n}\n"]);return xa=function(){return e},e}var Sa=M.a.div(xa()),ja=M.a.img(Oa()),wa=function(e){var a=e.data,t=e.connect,r=e.img;return n.a.createElement(Sa,{className:"uk-width-1-4@m uk-margin-left uk-margin-right","uk-grid":"true"},n.a.createElement("ul",{className:"uk-switcher",id:t},n.a.createElement("li",null,n.a.createElement("div",{className:"uk-card-media-top"},n.a.createElement(ja,{className:"uk-width-1-1",src:r,alt:""})),n.a.createElement("div",{className:"uk-card-body"},n.a.createElement("h3",{className:"uk-margin-remove"},a.name),n.a.createElement("h5",{className:"uk-margin-remove"},n.a.createElement("span",{"uk-icon":"icon: location; ratio: 1.2"}),a.address.state,", ",a.address.country))),n.a.createElement("li",null,n.a.createElement("div",{className:"uk-card-body"},n.a.createElement("div",{className:"uk-flex"},n.a.createElement("h2",{className:"uk-margin uk-margin-right"},"Detalles"),n.a.createElement(_a,{id:a._id})),n.a.createElement("div",null,n.a.createElement("h4",{className:"uk-margin-remove-bottom"},"Direcci\xf3n:"),n.a.createElement("p",{className:"uk-margin-remove-top"},a.address.street,", ",a.address.zip_code," ",a.address.city,", ",a.address.state,".")),n.a.createElement("div",null,n.a.createElement("h4",{className:"uk-margin-remove-bottom"},"Tel\xe9fono:"),n.a.createElement("p",{className:"uk-margin-remove-top"},a.phone_number))))),n.a.createElement("ul",{className:"uk-subnav uk-margin-remove-top uk-margin-right uk-flex-right","uk-switcher":"connect: #".concat(t)},n.a.createElement("li",null,n.a.createElement("a",{className:"uk-text-capitalize",href:"/"},n.a.createElement("p",null,"General"))),n.a.createElement("li",null,n.a.createElement("a",{className:"uk-text-capitalize",href:"/"},n.a.createElement("p",null,". . .")))))},Ca=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.stores.stores}));Object(r.useEffect)((function(){e(ga())}),[e]);var t=["https://res.cloudinary.com/karen491/image/upload/c_scale,h_808/v1594705893/cleanvel/App%20pictures/kitchen-cleaning_l9pzbm.jpg","https://res.cloudinary.com/karen491/image/upload/c_scale,h_808,w_1200/v1594716119/cleanvel/App%20pictures/car-cleaning_ndtgbs.jpg","https://res.cloudinary.com/karen491/image/upload/c_scale,h_808,w_1200/v1594716643/cleanvel/App%20pictures/storage-icon_qwy591.jpg"];return n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-margin-large-left uk-padding-remove-bottom"},n.a.createElement(ge,{title:"Tiendas Cleanvel",img:"https://res.cloudinary.com/karen491/image/upload/c_scale,h_351,w_424/v1594704795/cleanvel/App%20pictures/stores-icon_v0aop3.png"})),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-flex uk-flex-center uk-margin-medium-top"},g(a).map((function(e,a){return n.a.createElement(wa,{data:e,key:a,connect:"card-".concat(a),img:t[a]})}))))},Ra="cleanvel/products/GET_USERS_SUCCESS",Aa="cleanvel/products/GET_USERS_ERROR",Ta="cleanvel/products/CREATE_USER_ERROR",Ua="cleanvel/products/EDIT_USER_SUCCESS",Da="cleanvel/products/EDIT_USER_ERROR",La="cleanvel/products/DELETE_USER_ERROR",Ga="cleanvel/products/SEARCH_USER_ERROR",Va={users:{},status:"",error:void 0};var qa=function(e){return{type:"cleanvel/products/DELETE_USER_SUCCESS",payload:e}},Pa=function(){return function(e){return e({type:"cleanvel/products/LOADING"}),k.a.get("".concat(v,"/users")).then((function(a){var t=f(a.data.users);e({type:Ra,payload:t})})).catch((function(a){e({type:Aa,error:a})}))}},Fa=function(e){return function(a){return a({type:"cleanvel/products/LOADING"}),k.a.post("".concat(v,"/users"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a({type:"cleanvel/products/CREATE_USER_SUCCESS",payload:e.data.msg})})).catch((function(e){a({type:Ta,error:e})}))}},Ia=function(e){return function(a){return a({type:"cleanvel/products/LOADING"}),k.a.patch("".concat(v,"/users/").concat(e.id),e.data).then((function(e){var t;a((t=e.data.user,{type:Ua,payload:t}))})).catch((function(e){a({type:Da,error:e})}))}},za=function(e){return function(a){return a({type:"cleanvel/products/LOADING"}),k.a.get("".concat(v,"/users/").concat(e)).then((function(e){a({type:"cleanvel/products/SEARCH_USER_SUCCESS",payload:e.data.user})})).catch((function(e){a({type:Ga,error:e})}))}};function Ja(){var e=Object(G.a)(["\ncolor:red;\nfont-size: 15px;\n"]);return Ja=function(){return e},e}var Ma=M.a.div(Ja()),Ha=function(e){var a=e.data,t=e.errors,l=e.register,c=e.reset;return Object(r.useEffect)((function(){function e(){return(e=Object($e.a)(Ye.a.mark((function e(){var a;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./api/formValues.json");case 2:a=e.sent,c(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c]),n.a.createElement("form",{className:"uk-grid-small","uk-grid":"true"},n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Nombre:"),n.a.createElement("input",{defaultValue:a?a.name:"",className:"uk-input",type:"text",name:"name",ref:l({required:!0})}),t.name&&n.a.createElement(Ma,null,"Agregar nombre del usuario")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Apellido:"),n.a.createElement("input",{defaultValue:a?a.last_name:"",className:"uk-input",type:"text",name:"last_name",ref:l({required:!0})}),t.last_name&&n.a.createElement(Ma,null,"El apellido es requerido")),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Usuario:"),n.a.createElement("input",{defaultValue:a?a.username:"",className:"uk-input",type:"text",name:"username",ref:l({required:!0})}),t.username&&n.a.createElement(Ma,null,"Asignar un usuario")),a?null:n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Contrase\xf1a:"),n.a.createElement("input",{defaultValue:a?a.password:"",className:"uk-input",type:"password",name:"password",placeholder:"m\xednimo de 6 caracteres...",ref:l({required:"La contrase\xf1a es requerida",minLength:{value:6,message:"La contrase\xf1a es muy corta"}})}),t.password&&n.a.createElement(Ma,null,t.password.message)),n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Permisos:"),n.a.createElement("select",{defaultValue:a?a.role:"",className:"uk-select",name:"role",ref:l},n.a.createElement("option",{value:""},"Selecciona el permiso..."),n.a.createElement("option",{selected:a?"Usuario"===a.role?"Selected":"":null},"Usuario"),n.a.createElement("option",{selected:a?"Administrador"===a.role?"Selected":"":null},"Administrador")),t.role&&n.a.createElement(Ma,null,"Especificar permisos")),a?null:n.a.createElement("div",{className:"uk-width-1-2@s"},n.a.createElement("label",{className:"uk-form-label"},"Foto de perfil:"),n.a.createElement("br",null),n.a.createElement("div",{className:"js-upload","uk-form-custom":"true"},n.a.createElement("input",{type:"file",name:"profile_picture",ref:l}),n.a.createElement("button",{className:"form-button",type:"button",tabIndex:"-1"},"Seleccionar..."))))},Ba=function(){var e=Object(m.b)(),a=Object(V.a)(),t=a.register,r=a.handleSubmit,l=a.errors,c=a.reset;return n.a.createElement("div",{className:"uk-margin-top uk-margin-medium-right"},n.a.createElement("button",{"uk-toggle":"target: #new-user",type:"button",className:"uk-align-center uk-margin-remove-top app-button"},n.a.createElement("span",{"uk-icon":"icon: plus",className:"uk-margin-small-right"}),"Registrar nuevo usuario"),n.a.createElement("div",{id:"new-user","uk-modal":"true"},n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},"Nuevo usuario")),n.a.createElement("div",{className:"uk-modal-body"},n.a.createElement(Ha,{register:t,errors:l,reset:c})),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button",type:"button",onClick:r((function(a){var t=new FormData;for(var r in a)"profile_picture"===r?t.append(r,a[r][0]):t.append(r,a[r]);e(Fa(t)).then((function(){s.a.modal("#new-user").hide()}))}))},"Guardar")))))},Ya=function(e){var a=e._id,t=Object(m.b)(),r=Object(m.c)((function(e){return e.users.editableUser})),l=Object(V.a)(),c=l.register,u=l.handleSubmit,i=l.errors,o=l.reset;return n.a.createElement("div",null,n.a.createElement("button",{"uk-toggle":"target: #edit-user-".concat(a),className:"uk-icon-button uk-margin-small-right","uk-icon":"file-edit",type:"button",onClick:function(){t(za(a))}}),n.a.createElement("div",{id:"edit-user-".concat(a),"uk-modal":"true"},r&&n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header uk-flex"},n.a.createElement("img",{className:"uk-border-circle uk-margin-right ",width:"80",height:"80",src:r.profile_picture?r.profile_picture:"/images/cleanvel-logo-letter.png",alt:r.name}),n.a.createElement("h2",{className:"uk-modal-title title"},r.name," ",r.last_name)),n.a.createElement("div",{className:"uk-modal-body"},n.a.createElement(Ha,{data:r,errors:i,register:c,reset:o})),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button",onClick:u((function(e){var a=r._id;t(Ia({id:a,data:e})).then((function(){s.a.modal("#edit-user-".concat(a)).hide()}))}))},"Guardar")))))};function $a(){var e=Object(G.a)(["\nfont-family: Verdana, Geneva, Tahoma, sans-serif;\nfont-size: 16px;\ncolor: rgb(80, 80, 80);\n"]);return $a=function(){return e},e}var Qa=M.a.p($a()),Wa=function(e){var a=e._id,t=Object(m.b)(),r=Object(m.c)((function(e){return e.users.editableUser}));return n.a.createElement("div",null,n.a.createElement("button",{"uk-toggle":"target: #delete-warning",href:"/usuarios",className:"uk-icon-button","uk-icon":"trash",type:"button",onClick:function(){t(za(a))}}),n.a.createElement("div",{id:"delete-warning","uk-modal":"true"},r&&n.a.createElement("div",{className:"uk-modal-dialog"},n.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),n.a.createElement("div",{className:"uk-modal-header"},n.a.createElement("h2",{className:"uk-modal-title title"},r.name," ",r.last_name)),n.a.createElement("div",{className:"uk-modal-body uk-flex"},n.a.createElement("div",{className:"uk-margin-right"},n.a.createElement("span",{className:"delete-icon","uk-icon":"icon: warning; ratio: 3"})),n.a.createElement("div",null,n.a.createElement(Qa,null,"\xbfEstas seguro que deseas eliminar a este usuario de la base de datos?"))),n.a.createElement("div",{className:"uk-modal-footer uk-text-right"},n.a.createElement("button",{className:"form-button uk-modal-close",onClick:function(e){e=r._id,t(function(e){return function(a){return a({type:"cleanvel/products/LOADING"}),k.a.delete("".concat(v,"/users/").concat(e)).then((function(e){a(qa(e.data.user))})).catch((function(e){a(qa(e))}))}}(e))}},"Eliminar usuario")))))};ee.a.extend(te.a);var Xa=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.users.users}));return Object(r.useEffect)((function(){e(Pa())}),[e]),n.a.createElement("div",{className:"uk-margin-left uk-width-expand"},n.a.createElement("div",{className:"uk-flex uk-flex-between uk-margin-large-left"},n.a.createElement(ge,{title:"Usuarios Cleanvel",img:"https://res.cloudinary.com/karen491/image/upload/v1594704536/cleanvel/App%20pictures/users-icon_jclhbc.png"}),n.a.createElement(Ba,null)),n.a.createElement("hr",{className:"uk-margin-remove-top divider"}),n.a.createElement("div",{className:"uk-margin-medium-top uk-margin-large-left"},n.a.createElement("table",{className:"uk-table uk-table-divider uk-width-3-4@m uk-margin-left"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"table-head uk-padding-remove-right"},"Usuario"),n.a.createElement("td",{className:"table-head uk-text-center"},"Permisos"),n.a.createElement("td",{className:"table-head uk-text-center"},"Activo desde"),n.a.createElement("td",{className:"table-head uk-text-center"},"Acciones"))),n.a.createElement("tbody",null,g(a).map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("td",{className:"table-cell uk-padding-remove-right"},n.a.createElement("p",{className:"uk-margin-remove-bottom"},e.name," ",e.last_name),n.a.createElement("p",{className:"uk-margin-remove-top"},e.username)),n.a.createElement("td",{className:"table-cell uk-text-center"},e.role),n.a.createElement("td",{className:"table-cell uk-text-center"},ee()(e.createdAt).locale("es").format("MMMM YYYY")),n.a.createElement("td",null,n.a.createElement("div",{className:"uk-flex uk-flex-center\t"},n.a.createElement(Ya,e),n.a.createElement(Wa,e))))}))))))},Ka=function(){return n.a.createElement(ue.c,null,n.a.createElement(ue.a,{exact:!0,path:"/",component:ke}),n.a.createElement(ue.a,{exact:!0,path:"/inventario",component:_e}),n.a.createElement(ue.a,{exact:!0,path:"/inventario/detalle",component:Ae}),n.a.createElement(ue.a,{exact:!0,path:"/inventario/compra",component:De}),n.a.createElement(ue.a,{exact:!0,path:"/inventario/traspaso",component:Fe}),n.a.createElement(ue.a,{exact:!0,path:"/productos",component:Ze}),n.a.createElement(ue.a,{exact:!0,path:"/productos/:id",component:sa}),n.a.createElement(ue.a,{exact:!0,path:"/ventas",component:Ea}),n.a.createElement(ue.a,{exact:!0,path:"/tiendas",component:Ca}),n.a.createElement(ue.a,{exact:!0,path:"/usuarios",component:Xa}))};t(212);var Za=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.user.data}));return Object(r.useEffect)((function(){e(w()),e(L())}),[e]),n.a.createElement("div",{className:"uk-width-expand uk-margin-remove","uk-grid":"true"},!a&&n.a.createElement(X,null),a&&n.a.createElement(ce,{user:a}),n.a.createElement(Ka,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=t(25),at=t(89),tt=Object(et.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cleanvel/user/LOADING":return Object(p.a)({},e,{status:"pending"});case q:return{status:"success",data:Object(p.a)({},a.payload)};case P:return{status:"error",error:a.error};case F:return I;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cleanvel/products/LOADING":return Object(p.a)({},e,{status:"pending"});case Ra:return Object(p.a)({},e,{status:"success",users:Object(p.a)({},a.payload)});case Aa:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/CREATE_USER_SUCCESS":return Object(p.a)({},e,{status:"success",users:Object(p.a)({},e.users,Object(d.a)({},a.payload._id,a.payload))});case Ta:return Object(p.a)({},e,{status:"error",error:a.error});case Ua:return Object(p.a)({},e,{status:"success",users:Object(p.a)({},e.users,Object(d.a)({},a.payload._id,a.payload))});case Da:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/DELETE_USER_SUCCESS":return Object(p.a)({},e,{status:"success"});case La:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/SEARCH_USER_SUCCESS":return Object(p.a)({},e,{status:"success",editableUser:Object(p.a)({},a.payload)});case Ga:return Object(p.a)({},e,{status:"error",error:a.error});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return Object(p.a)({},e,{status:"pending"});case"cleanvel/products/GET_PRODUCTS_SUCCESS":return Object(p.a)({},e,{status:"success",products:Object(p.a)({},a.payload)});case y:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/CREATE_PRODUCT_SUCCESS":return Object(p.a)({},e,{status:"success",products:Object(p.a)({},e.products,Object(d.a)({},a.payload._id,a.payload))});case"cleanvel/products/CREATE_PRODUCT_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/SEARCH_PRODUCT_SUCCESS":return Object(p.a)({},e,{status:"success",editableProduct:Object(p.a)({},a.payload)});case"cleanvel/products/SEARCH_PRODUCT_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/EDIT_PRODUCT_SUCCESS":return Object(p.a)({},e,{status:"success",products:Object(p.a)({},e.products,Object(d.a)({},a.payload._id,a.payload))});case _:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/DELETE_PRODUCT_SUCCESS":return Object(p.a)({},e,{status:"success"});case"cleanvel/products/DELETE_PRODUCT_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/ADD_PURCHASE_SUCCESS":return Object(p.a)({},e,{status:"success",products:Object(p.a)({},e.products,Object(d.a)({},a.payload._id,a.payload))});case O:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/products/ADD_TRANSFER_SUCCESS":return Object(p.a)({},e,{status:"success",products:Object(p.a)({},e.products,Object(d.a)({},a.payload._id,a.payload))});case x:return Object(p.a)({},e,{status:"error",error:a.error});default:return e}},stores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cleanvel/stores/LOADING":return Object(p.a)({},e,{status:"pending"});case"cleanvel/stores/GET_STORES_SUCCESS":return Object(p.a)({},e,{status:"success",stores:Object(p.a)({},a.payload)});case ka:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/stores/SEARCH_STORE_SUCCESS":return Object(p.a)({},e,{status:"success",editableStore:Object(p.a)({},a.payload)});case"cleanvel/stores/SEARCH_STORE_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/stores/EDIT_STORE_SUCCESS":return Object(p.a)({},e,{status:"success",stores:Object(p.a)({},e.stores,Object(d.a)({},a.payload._id,a.payload))});case va:return Object(p.a)({},e,{status:"error",error:a.error});default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cleanvel/stores/LOADING":return Object(p.a)({},e,{status:"pending"});case"cleanvel/events/GET_EVENTS_SUCCESS":return Object(p.a)({},e,{status:"success",events:Object(p.a)({},a.payload)});case U:return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/events/GET_PRODUCTSALES_SUCCESS":return Object(p.a)({},e,{status:"success",productsSales:Object(p.a)({},a.payload)});case"cleanvel/events/GET_PRODUCTSALES_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});case"cleanvel/events/CREATE_EVENT_SUCCESS":return Object(p.a)({},e,{status:"success",events:Object(p.a)({},e.stores,Object(d.a)({},a.payload._id,a.payload))});case"cleanvel/events/CREATE_EVENT_ERROR":return Object(p.a)({},e,{status:"error",error:a.error});default:return e}}}),rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,nt=Object(et.e)(tt,rt(Object(et.a)(at.a)));s.a.use(o.a),c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m.a,{store:nt},n.a.createElement(K.a,null,n.a.createElement(Za,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,a,t){e.exports=t(213)},95:function(e,a,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.a70104b0.chunk.js.map